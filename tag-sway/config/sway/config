# settings
set $mod Mod4
floating_modifier $mod

set $left  Left
set $down  Down
set $up    Up
set $right Right

set $term footclient
set $menu my-fuzzel
set $lock swaylock -f -i "$HOME/.config/wall.png"

default_border pixel 1
default_floating_border pixel 1

gaps inner 2
smart_gaps on
smart_borders on
hide_edge_borders both
focus_follows_mouse yes

output * bg ~/.config/wall.png fill

seat * hide_cursor when-typing enable
seat * hide_cursor 5000

input type:keyboard {
	repeat_delay 300
	repeat_rate  50
	xkb_layout   de
	xkb_options  ctrl:nocaps,compose:sclk
}

input type:touchpad {
	dwt enabled
	tap enabled
}

# autostart
# exec swayidle -w \
# 	timeout 300 'swaymsg "output * dpms off"' \
# 	timeout 300 '$lock' \
# 	unlock      'swaymsg "output * dpms on"'
exec systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK
exec hash dbus-update-activation-environment 2>/dev/null && \
     dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK

exec my-audio
exec mpd
exec foot -s
exec flameshot

# programs
bindsym $mod+Return       exec terminal
bindsym $mod+Shift+Return exec $term

bindsym $mod+Shift+a exec $term -e pulsemixer
bindsym $mod+c       exec discord
bindsym $mod+Shift+c exec pkill -i discord; sleep 1; pkill -i discord
bindsym $mod+d       exec $menu
bindsym $mod+e       exec emacs
bindsym $mod+i       exec $term -e htop
bindsym $mod+m       exec $term -e ncmpcpp
bindsym $mod+w       exec firefox
bindsym $mod+x       exec $lock
bindsym $mod+y       exec $term -e calcurse
bindsym $mod+Shift+y exec playerctl play-pause

# audio
bindsym $mod+plus        exec audioctl higher 5
bindsym $mod+minus       exec audioctl lower  5
bindsym XF86AudioMute    exec audioctl mute
bindsym XF86AudioMicMute exec audioctl micmute

# music
bindsym $mod+p         exec mpc toggle
bindsym $mod+period    exec mpc next
bindsym $mod+comma     exec mpc prev
bindsym $mod+colon     exec mpc seek +5
bindsym $mod+semicolon exec mpc seek -5
bindsym $mod+less      exec mpc seek 0%

bindsym $mod+Control+plus  exec mpc vol +5
bindsym $mod+Control+minus exec mpc vol -5

# special
bindsym Print       exec grim -g "$(slurp)" - | wl-copy
bindsym Shift+Print exec grim

bindsym XF86MonBrightnessDown exec xbacklight -set "$(($(xbacklight -get) - 10))"
bindsym XF86MonBrightnessUp   exec xbacklight -set "$(($(xbacklight -get) + 10))"

bindsym $mod+Backspace         exec prompt "Shutdown?" sudo poweroff
bindsym $mod+Shift+Backspace   exec prompt "Reboot?"   sudo reboot
bindsym $mod+Control+Backspace exec prompt "Suspend?"  bash -c "$lock; sus"
bindsym $mod+Escape            exec prompt "Logout?"   pkill sway

# WM
bindsym $mod+f       fullscreen
bindsym $mod+Shift+f floating toggle
bindsym $mod+h       move scratchpad
bindsym $mod+Shift+h scratchpad show
bindsym $mod+q       kill

bindsym $mod+F2    reload
bindsym $mod+Tab   workspace back_and_forth
bindsym $mod+space focus mode_toggle

bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right

bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right

bindsym $mod+0 workspace number 0
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9

bindsym $mod+Shift+0 move container to workspace number 0
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9

# You can "split" the current object of your focus with
# $mod+b or $mod+v, for horizontal and vertical splits
# respectively.
# bindsym $mod+b splith
# bindsym $mod+v splitv

# Move focus to the parent container
# bindsym $mod+a focus parent

# bar
bar {
	position top
	swaybar_command waybar
	# mode hide
	# modifier $mod
}

# criteria
assign [class="KeePassXC"] 9
assign [class="discord"]   2
for_window [app_id="dropdown.*"] floating enable
for_window [app_id="dropdown.*"] resize set 800 400

include /etc/sway/config.d/*
